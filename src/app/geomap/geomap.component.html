<h2>Map view</h2>

<form class="location-form" [formGroup]="locationForm">
  <div class="row">
    <div class="col">
      <label>Latitude:
        <input formControlName="lat" placeholder="Latitude">
      </label>
    </div>
    <div class="col">
      <label>Longitude:
        <input formControlName="lng" placeholder="Longitude">
      </label>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <label>Geohash:
        <input formControlName="hash" placeholder="Geohash">
      </label>
    </div>
    <div class="col">
      <label>Precision:
        <input formControlName="precision" type="number" min="1" max="12">
      </label>
    </div>
  </div>
</form>
<form class="location-form" [formGroup]="drawControlForm">
  <div class="row">
    <div class="col">
      <label>
        <input formControlName="showCircle" type="checkbox">
        Draw circle?
      </label><br>
      <label>Radius (KMs):
        <input formControlName="circleRadius" type="number" step="0.01">
      </label>
    </div>
    <div class="col">
      Calculated precision for circle radius: <br><strong class="red-text">{{drawControl.calculatedPrecision}}</strong>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <label>
        <input formControlName="drawNeighbourBounds" type="checkbox">
        Draw neighbours' bounds?
      </label>
    </div>
    <div class="col">
      <button (click)="recenterMap()">Re-center</button>
    </div>
  </div>
</form>

<div *ngIf="message" class="row">
  {{message}}
</div>

<div class="map-container">
  <div id="map" #map></div>
</div>
<h3>Neighbours</h3>
<div class="current-location">Current location: {{location.hash}}</div>
<div class="neighbours">
  <span [ngClass]="{ 'current': neighbour == location.hash }" *ngFor="let neighbour of neighbours">
    {{neighbour}}
  </span>
</div>

